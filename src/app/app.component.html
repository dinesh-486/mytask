<div class="alert alert-danger" *ngIf="error">{{ error }}</div>
<div class="alert alert-success" *ngIf="success">{{ success }}</div>
<h2>Add Data</h2>
<div id="theForm" class="row">
  

  <div class="container">
  <form #f="ngForm" name="theForm" (submit)="addCsvData(f)">

    <div class="form-group">
      <label>ID</label>
      <input
        type="text"
        class="form-control"
        name="id"     
      
        required
        [(ngModel)]="csvdata.id"
        #csvdatasid="ngModel"
        pattern="^[0-9]+$"
      />
     
    </div>

    <div class="form-group">
      <label>Name</label>
      <input
        type="text"
        class="form-control"
        name="name"
        
        [(ngModel)]="csvdata.name"
        #csvdatasname="ngModel"
        required
        pattern="^[a-zA-Z ]+$"
      />
     
    </div>

    <div class="form-group">
      <label>State</label>
      <input
      type="text"
      class="form-control"
      name="state"
      required
      [(ngModel)]="csvdata.state"
        #csvdatasstate="ngModel"
      pattern="^[a-zA-Z ]+$"
      />
      
    </div>

    <div class="form-group">
      <label>Zip</label>
      <input
        type="text"
        class="form-control"
        name="zip"
        required
        [(ngModel)]="csvdata.zip"
        #csvdataszip="ngModel"
       
      />
     
    </div>
    <div class="form-group">
      <label>QTY</label>
      <input
        type="text"
        class="form-control"
        name="qty"
        required
        [(ngModel)]="csvdata.qty"
        #csvdatasqty="ngModel"
       
      />
     
    </div>

    <div class="form-group">
      <label>Amount</label>
      <input
        type="text"
        class="form-control"
        name="amount"
        required
        [(ngModel)]="csvdata.amount"
        #csvdatasamount="ngModel"
       
      />
     
    </div>

    <div class="form-group">
      <label>Item Code</label>
      <input
        type="text"
        class="form-control"
        name="item"
        required
        [(ngModel)]="csvdata.item"
        #csvdatasitem="ngModel"
       
      />
    
    </div>
    <button class="btn btn-primary btn-sm" [disabled]="f.invalid">Add</button>
  </form>
  </div>
</div>

<div id="theList">
  <h2>Data List</h2>

  <div class="container">
    <table>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>State</th>
        <th>Zip</th>
        <th>Amount</th>
        <th>Qty</th>
        <th>Item</th>
        <th>Update</th>
        <th>Delete</th>
      </tr>
      <tr *ngFor="let item of csvdatas; let i = index">
        <td>{{item.id}}</td>
        <td>{{item.name}}</td>
        <td>{{item.state}}</td>
        <td>{{item.zip}}</td>
        <td>{{item.amount}}</td>
        <td>{{item.qty}}</td>
        <td>{{item.item}}</td>
        <td> <input
          type="button"
          value="Edit"
          class="btn btn-primary btn-sm"
          
          (click)="updateCsvData(item,i)"
        /></td>
        <td>   <input
          type="button"
          value="Delete"
          class="btn btn-danger btn-sm"
          (click)="deleteCsvData(item.id? item.id:0)"
          
        /></td>
      </tr>
     
    </table>
<!-- 
    <div *ngFor="let item of csvdatas; let i = index" class="row">
      <div class="col-4">
        <input
          type="text"
          [(ngModel)]="csvdatas[i].id"
          class="form-control"
          required
         
        />
      </div>
      <div class="col-4">
        <input
          type="text"
          [(ngModel)]="csvdatas[i].name"
          class="form-control"
          required
          pattern="^[a-zA-Z]+$"
         
        />
      </div>
      <div class="col-4">
        <input
          type="text"
          [(ngModel)]="csvdatas[i].state"
          class="form-control"
          required
         
        />
      </div>
      <div class="col-4">
        <input
          type="text"
          [(ngModel)]="csvdatas[i].zip"
          class="form-control"
          required
        
        />
      </div>
      <div class="col-4">
        <input
          type="text"
          [(ngModel)]="csvdatas[i].amount"
          class="form-control"
          required
         
        />
      </div>
      <div class="col-4">
        <input
          type="text"
          [(ngModel)]="csvdatas[i].qty"
          class="form-control"
          required
         
        />
      </div>
      <div class="col-4">
        <input
          type="text"
          [(ngModel)]="csvdatas[i].item"
          class="form-control"
          required
          
        />
      </div>
      <div class="col-4">
        <input
          type="button"
          value="Update"
          class="btn btn-primary btn-sm"
        />

        <input
          type="button"
          value="Delete"
          class="btn btn-danger btn-sm"
          
        />
      </div>
    </div> -->
    <br><br><br>
  </div>

</div>